import{c}from"./paypal-DheHKpN-.js";import{c as t,e as i,t as p,J as l,o}from"./index-DGsneOvh.js";import{_ as d}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B9ygI19o.js";const m={name:"TopUpComplete",data(){return{loading:!0,success:!1,message:""}},async created(){try{const e=new URLSearchParams(window.location.search),s=e.get("token")||e.get("orderID")||null;if(!s)throw new Error("No token/order id in query");let r=null;try{const{data:{session:a}}=await l.auth.getSession();r=a?.user?.id||null}catch{}await c(s,r),this.success=!0}catch(e){console.error("TopUpComplete error",e),this.message=e?.response?.data?.error||e.message||String(e)}finally{this.loading=!1}}},u={class:"p-6 max-w-md mx-auto"},_={key:0},f={key:1},g={key:2,class:"text-red-600"};function h(e,s,r,a,n,y){return o(),t("div",u,[s[0]||(s[0]=i("h2",{class:"text-2xl font-semibold mb-4"},"Top-up: confirmation",-1)),n.loading?(o(),t("div",_,"Processing payment...")):n.success?(o(),t("div",f,"Paiement capturé ✅")):(o(),t("div",g,"Erreur: "+p(n.message),1))])}const S=d(m,[["render",h]]);export{S as default};
